<!DOCTYPE html>
<html>
<head>
    <title>Strings - Homework</title>
</head>
<body>
	<button id="button">Test it!</button>
	<br />
	<textarea id="answer" style="width:400px;height:300px;"></textarea>
	<script>
	/*
	 * Write a JavaScript function that replaces in a HTML document given as string all the tags <a href="…">…</a>
	 * with corresponding tags [URL=…]…/URL].
	 */

	function replaceAHref(inputText) {
		var index = inputText.indexOf("<a");
		while (index > -1) {
			inputText = inputText.replace("<a href='", "[URL=");
			inputText = inputText.replace("'>", "]");
			inputText = inputText.replace("</a>", "[/URL]");
			index = inputText.indexOf("<a", index + 1);
		}
		
		return inputText;
	}

	//add listener for click event
	document.getElementById("button").addEventListener('click', (function() {
	
		var text = "<p>Please visit <a href='http://academy.telerik. com'>our site</a> to choose a training course. Also visit <a href='www.devbg.org'>our forum</a> to discuss the courses.</p>";
		
		var parsedText = replaceAHref(text);
				
		//clean the content of the answer field 
		document.getElementById("answer").innerHTML = "";
		
		//print the answer
		console.log(parsedText);
		document.getElementById("answer").innerHTML = parsedText;

	}));
    </script>
</body>
</html>
