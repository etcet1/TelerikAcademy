<html>
<head>
    <title>Arrays - Homework</title>
</head>
<body>
	<label for="input">Your input /use comma as separator/:</label>
	<br />
	<input id="input">
	<br />
	<label for="number">The number:</label>
	<br />
	<input id="number">
	<br />
	<button id="button">Test it!</button>
	<br />
	<textarea id="answer" style="width:400px;height:300px;"></textarea>
	<script>
	/*
	 * Write a program that finds the index of given element in a sorted 
	 * array of integers by using the binary search algorithm (find it in Wikipedia).
	 */


	function BinarySearch(inputNumber, inputString) {

		if (!isNaN(inputNumber)) {
			searchedNumber = inputNumber;
		} else {
			console.log("Invalid input detected.");
		}

		var testArray = inputString.split(",");

		for (var i = 0; i < testArray.length; i++) {
			var number = parseInt(testArray[i]);

			if (!isNaN(number)) {
				testArray[i] = number;
			} else {
				console.log("Invalid input detected.");
			}
		}
		console.log("The array is: " + testArray.join(", "));
		document.getElementById("answer").innerHTML = "The array is: " + testArray.join(", ") + "\n";

		var min = 0;
		var max = testArray.length - 1;
		var position = -1;

		while (min <= max) {
			var middle = min + (max - min) / 2;

			middle = Math.floor(middle);
			if (testArray[middle] > searchedNumber) {
				max = middle - 1;
			}
			else if (testArray[middle] < searchedNumber) {
				min = middle + 1;
			}
			else {
				position = middle;
				break;
			}
		}

		console.log("Index of element " + searchedNumber + " is " + answer);
		document.getElementById("answer").innerHTML += "Index of element " + searchedNumber + " is " + position;
	}

	//add listener for click event
	document.getElementById("button").addEventListener('click', (function() {
		    
		var input = document.getElementById("input").value;
		
		var number = document.getElementById("number").value;
		
		//clean the content of the answer field 
		document.getElementById("answer").innerHTML = "";
		
		BinarySearch(number, input);

	}));
    </script>
</body>
</html>
