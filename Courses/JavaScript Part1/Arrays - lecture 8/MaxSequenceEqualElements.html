<html>
<head>
    <title>Arrays - Homework</title>
</head>
<body>
	<label for="input">Your input /use comma as separator/:</label>
	<br />
	<input id="input">
	<br />
	<button id="button">Test it!</button>
	<br />
	<textarea id="answer" style="width:400px;height:300px;"></textarea>
	<script>
	/*
	 * Write a program that finds the maximal sequence of equal elements in an array.
	 */

	function MaxSequenceEqualElements(inputString) {

		var testArray = inputString.split(",");

		for (var i = 0; i < testArray.length; i++) {
		
			var number = parseInt(testArray[i]);
			
			console.log(parseInt(testArray[i]));
			
			if (!isNaN(number))
			{
				testArray[i] = number;
			}
			else
			{
				console.log("Invalid input detected.");
			}
		}
		
		//setting the temp holder for the sequence count
		var temp = 1;
		var countNumber = 0;
		
		for (var i = 0; i < testArray.length; i++) {
			var j = i;
			
			while (testArray[i] === testArray[j + 1] && j < testArray.length) {
				temp++;
				j++;
			}
			
			if (temp > countNumber) {
				var countNumber = temp;
				var resultNumber = testArray[i];
			}
			
			//reset of the counter
			temp = 1;
		}

		console.log("The maximal sequence of elements in the array " + testArray.join(", ") + " is " + resultNumber + " -> " + countNumber);
		document.getElementById("answer").innerHTML = "The maximal sequence of elements in the array " + testArray.join(", ") + " is " + resultNumber + " -> " + countNumber;
	}

	//add listener for click event
	document.getElementById("button").addEventListener('click', (function() {
		    
		var input = document.getElementById("input").value;
		
		//clean the content of the answer field 
		document.getElementById("answer").innerHTML = "";
		
		MaxSequenceEqualElements(input);

	}));
    </script>
</body>
</html>
